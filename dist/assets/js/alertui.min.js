
;(function(context,namespace){'use strict';var alertuiWin=window[namespace];var proto={addClass:function(el,cls){var elClass=el.className;var blank=(elClass!=='')?' ':'';var added=elClass+blank+cls;el.className=added;},getEvent:function(e){if(e.target){return e.target;}else if(e.srcElement){return e.srcElement;}},removeClass:function(el,cls){var elClass=' '+el.className+' ';elClass=elClass.replace(/(\s+)/gi,' ');var removed=elClass.replace(' '+cls+' ',' ');removed=removed.replace(/(^\s+)|(\s+$)/g,'');el.className=removed;},addEvent:function(el,type,func){if(el.addEventListener){el.addEventListener(type,func,false);}else if(el.attachEvent){el.attachEvent('on'+type,func);}else{el['on'+type]=func;}},dispatchEvent:function(el,etype){if(el.fireEvent){el.fireEvent('on'+etype);}else{var evObj=document.createEvent('Events');evObj.initEvent(etype,true,false);el.dispatchEvent(evObj);}},removeEvent:function(el,type,func){if(el.removeEventListener){el.removeEventListener(type,func,false);}else if(el.detachEvent){el.detachEvent('on'+type,func);}else{delete el['on'+type];}},removeElement:function(el){(el&&el.parentNode)&&el.parentNode.removeChild(el);}};function Alertui(){var sM,alertConfig,noteConfig,btOkv='Ok',btCancelV='Cancel',callTime=500,noteTime=4300,block=false,_$generate_;sM=this;_$generate_={createModal:function(){var elModal=document.createElement('div');proto.addClass(elModal,'altui-modal');return elModal;},blockBody:function(flg){var elBdy;elBdy=document.body;flg?elBdy.style.overflow='hidden':elBdy.style.overflow='';},promptResponse:function(el,call,alertEl,elDataIn){var reqValue;proto.addEvent(el,'click',function(e){_$generate_.blockBody(false);var tar=e.target?e.target:proto.getEvent(e);var matches=tar.matches?tar.matches('.altui-modal, .alt-btn, .altui-close'):tar.msMatchesSelector('.altui-modal, .alt-btn, .altui-close');if(matches){reqValue=elDataIn.value;if(block)return false;if(reqValue!==''){block=true;el.setAttribute('disabled','disabled');proto.addClass(alertEl,'alert-close');setTimeout(function(){proto.removeElement(alertEl);if(call!==undefined)
call(reqValue);block=false;},callTime);}else
elDataIn.focus();}});},alertResponse:function(el,call,alertEl){proto.addEvent(el,'click',function(e){_$generate_.blockBody(false);var tar=e.target?e.target:proto.getEvent(e);var matches=tar.matches?tar.matches('.altui-modal, .alt-btn, .altui-close'):tar.msMatchesSelector('.altui-modal, .alt-btn, .altui-close');if(matches){if(block)return false;block=true;proto.addClass(alertEl,'alert-close');setTimeout(function(){proto.removeElement(alertEl);if(call!==undefined)call();block=false;},callTime);}});},loadResponse:function(call,alertEl){if(block)return false;block=true;if(call!==undefined){block=false;call(function(){_$generate_.blockBody(false);proto.addClass(alertEl,'alert-close');setTimeout(function(){proto.removeElement(alertEl);},callTime);},alertEl);}},noteResponse:function(el,call,elCase){proto.addEvent(el,'click',function(){proto.addClass(el,'note-close');setTimeout(function(){proto.removeElement(el);if(call!==undefined)call();if(elCase.childNodes.length===0)
proto.removeElement(elCase);},callTime);});setTimeout(function(){proto.addClass(el,'note-close');setTimeout(function(){proto.removeElement(el);if(call!==undefined)call();if(elCase.childNodes.length===0)
proto.removeElement(elCase);},callTime);},noteTime);},message:function(altOpts){var altUi=document.createElement('div'),altBox=document.createElement('div'),altCm=document.createElement('div'),btClose=document.createElement('button'),altHd=document.createElement('div'),altBdy=document.createElement('div'),altFt=document.createElement('div'),btnOk=document.createElement('button'),btnCancel=document.createElement('button'),modal,dataIn;this.blockBody(true);btClose.innerHTML='Ã—';if(typeof altOpts.opt!=="object")
altOpts.opt={};modal=this.createModal();if(!("modal-close"in altOpts.opt))
altOpts.opt["modal-close"]=true;proto.addClass(altUi,'alert-ui');proto.addClass(altUi,'show');proto.addClass(altBox,'altui-dialog');proto.addClass(altCm,'altui-cmd');proto.addClass(altHd,'altui-header');proto.addClass(altBdy,'altui-body');proto.addClass(altFt,'altui-footer');proto.addClass(btnOk,'alt-btn alt-primary');proto.addClass(btnCancel,'alt-btn alt-default');proto.addClass(btClose,'altui-close');altUi.setAttribute('tabindex','0');switch(altOpts.type){case'alert':altHd.innerHTML=altOpts.title!==null?altOpts.title:'Alert Ui';altBdy.innerHTML=altOpts.content;if("ok-value"in altOpts.opt)
btnOk.innerHTML=altOpts.opt['ok-value'];else
btnOk.innerHTML=btOkv;this.alertResponse(btnOk,altOpts.onok,altUi);this.alertResponse(btClose,altOpts.onok,altUi);altFt.appendChild(btnOk);altCm.appendChild(btClose);break;case'confirm':altHd.innerHTML=altOpts.title!==undefined?altOpts.title:'Alert Ui';altBdy.innerHTML=altOpts.content;if("ok-value"in altOpts.opt)
btnOk.innerHTML=altOpts.opt['ok-value'];else
btnOk.innerHTML=btOkv;if("cancel-value"in altOpts.opt)
btnCancel.innerHTML=altOpts.opt['cancel-value'];else
btnCancel.innerHTML=btCancelV;this.alertResponse(btnOk,altOpts.onok,altUi);this.alertResponse(btnCancel,altOpts.oncancel,altUi);this.alertResponse(btClose,altOpts.oncancel,altUi);altFt.appendChild(btnOk);altFt.appendChild(btnCancel);altCm.appendChild(btClose);break;case'prompt':dataIn=document.createElement('input');dataIn.setAttribute('type','text');proto.addClass(dataIn,'alt-input');altHd.innerHTML=altOpts.title!==undefined?altOpts.title:'Prompt Ui';altBdy.innerHTML=altOpts.content;altBdy.appendChild(dataIn);if("ok-value"in altOpts.opt)
btnOk.innerHTML=altOpts.opt['ok-value'];else
btnOk.innerHTML=btOkv;if("cancel-value"in altOpts.opt)
btnCancel.innerHTML=altOpts.opt['cancel-value'];else
btnCancel.innerHTML=btCancelV;this.promptResponse(btnOk,altOpts.onok,altUi,dataIn);this.alertResponse(btnCancel,altOpts.oncancel,altUi);this.alertResponse(btClose,altOpts.oncancel,altUi);altFt.appendChild(btnOk);altFt.appendChild(btnCancel);altCm.appendChild(btClose);proto.addEvent(dataIn,'keydown',function(evt){evt=evt||window.event;var key=evt.keyCode||evt.which;switch(key){case 13:btnOk.focus();proto.dispatchEvent(btnOk,'click');break;case 27:if(btnCancel)
btnCancel.focus();proto.dispatchEvent(modal,'click');break;}});if(altOpts.defvalue!=undefined){dataIn.value=altOpts.defvalue;dataIn.select();}else{dataIn.value='';}
break;case'load':var altLoader=document.createElement('div'),altContL=document.createElement('div'),altContB=document.createElement('div');altLoader.classList.add('alertui-loader');altContL.classList.add('alt-content-left');altContB.classList.add('alt-content-body');altContL.appendChild(altLoader);altContB.innerHTML=altOpts.content;altBdy.appendChild(altContL);altBdy.appendChild(altContB);altOpts.opt["modal-close"]=false;this.loadResponse(altOpts.onload,altUi);break;}
altBox.appendChild(altCm);altBox.appendChild(altHd);altBox.appendChild(altBdy);altBox.appendChild(altFt);modal.appendChild(altBox);altUi.appendChild(modal);if(altOpts.opt["modal-close"]&&altOpts.type==='alert')
this.alertResponse(modal,altOpts.onok,altUi);else if(altOpts.opt["modal-close"])
this.alertResponse(modal,altOpts.oncancel,altUi);document.body.appendChild(altUi);window.focus();if(altOpts.type==='prompt')
dataIn.focus();else{altUi.focus();}
proto.addEvent(altUi,'keydown',function(evt){evt=evt||window.event;var key=evt.keyCode||evt.which;switch(key){case 13:btnOk.focus();proto.dispatchEvent(btnOk,'click');break;case 27:if(btnCancel)
btnCancel.focus();proto.dispatchEvent(modal,'click');break;}});},note:function(note){var altUi,notify=document.createElement('div'),noteClass='';switch(note.noteType){case'default':noteClass='note-default';break;case'success':noteClass='note-success';break;case'error':noteClass='note-error';break;default:noteClass='note-default';}
proto.addClass(notify,'altui-note');proto.addClass(notify,noteClass);notify.innerHTML=note.content;altUi=document.getElementsByClassName('alert-ui-note')[0];if(altUi){altUi.insertBefore(notify,altUi.childNodes[0]);}else{altUi=document.createElement('div');proto.addClass(altUi,'alert-ui-note');altUi.insertBefore(notify,altUi.childNodes[0]);document.body.appendChild(altUi);}
this.noteResponse(notify,note.onClose,altUi);},modal:function(){function scan(eClass){return document.getElementsByClassName(eClass);}
function modalBlock(flg){var elBdy;elBdy=document.body;flg?elBdy.style.overflow='hidden':elBdy.style.overflow='';}
function show(same){var mId,mdEl;modalBlock(true);mId=same.dataset.modal;mdEl=document.getElementById(mId);proto.addClass(mdEl,'show');}
function close(e,mdl){var tar=e.target?e.target:proto.getEvent(e);var matches=tar.matches?tar.matches('.altui-modal, .altui-close'):tar.msMatchesSelector('.altui-modal, .altui-close');if(matches){modalBlock(false);mdl.classList.add('alert-close');setTimeout(function(){mdl.classList.remove('alert-close');mdl.classList.remove('show');},callTime);}}
function setActions(mdl){var cBt,mEl,i;cBt=mdl.getElementsByClassName('altui-close');mEl=mdl.getElementsByClassName('altui-modal')[0];for(i=0;i<cBt.length;i++){proto.addEvent(cBt[i],'click',function(e){close(e,mdl);});}
proto.addEvent(mEl,'click',function(e){var tar=e.target?e.target:proto.getEvent(e);var matches=tar.matches?tar.matches('.altui-modal'):tar.msMatchesSelector('.altui-modal');if(matches){close(e,mdl);}});}
function _init(){var mdLs,mdBt,i;mdLs=scan('alert-ui');mdBt=scan('alert-to');for(i=0;i<mdLs.length;i++){setActions(mdLs[i]);}
for(i=0;i<mdBt.length;i++){proto.addEvent(mdBt[i],'click',function(){var same;same=this;show(same);});}}
_init();}};return{modal:(function(){_$generate_.modal();})(),modalClose:function(mdlId){var mdl;mdl=document.getElementById(mdlId);mdl.classList.add('alert-close');setTimeout(function(){mdl.classList.remove('show','alert-close');},callTime);},alert:function(title,content,onOk,option){alertConfig={type:'alert',title:title,content:content,onok:onOk,opt:option};_$generate_.message(alertConfig);},confirm:function(title,content,onOk,onCancel,option){alertConfig={type:'confirm',title:title,content:content,onok:onOk,oncancel:onCancel,opt:option};_$generate_.message(alertConfig);},prompt:function(title,content,onOk,onCancel,defValue,option){alertConfig={type:'prompt',title:title,content:content,onok:onOk,oncancel:onCancel,defvalue:defValue,opt:option};_$generate_.message(alertConfig);},load:function(content,onLoad){alertConfig={type:'load',content:content,onload:onLoad};_$generate_.message(alertConfig);},notify:function(noteType,content){noteConfig={noteType:noteType,content:content,};_$generate_.note(noteConfig);},};}
alertuiWin=new Alertui();window[namespace]=alertuiWin;})(window,'alertui');